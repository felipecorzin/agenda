"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9097],{9097:(Z,u,s)=>{s.r(u),s.d(u,{MoneymapPageModule:()=>S});var c=s(6895),_=s(433),a=s(603),g=s(5017),d=s(655),h=s(1135),p=s(5819),t=s(4650);let T=(()=>{class o{constructor(e){this.modalCtrl=e}ngOnInit(){}close(){this.modalCtrl.dismiss()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.IN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-detail-transaction"]],inputs:{transaction:"transaction"},decls:22,vars:8,consts:[[1,"imagen",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-content"),t._UZ(1,"img",0),t.TgZ(2,"ion-list")(3,"ion-list-header")(4,"ion-label")(5,"h3")(6,"b"),t._uU(7,"Email: "),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"h2")(10,"b"),t._uU(11,"Name: "),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"h3")(14,"b"),t._uU(15,"Created: "),t.qZA(),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"h3")(19,"b"),t._uU(20,"Description: "),t.qZA(),t._uU(21),t.qZA()()()()()),2&e&&(t.xp6(1),t.s9C("src",n.transaction.img,t.LSH),t.xp6(7),t.Oqu(n.transaction.wallet),t.xp6(4),t.Oqu(n.transaction.title),t.xp6(4),t.Oqu(t.xi3(17,5,n.transaction.created,"short")),t.xp6(5),t.Oqu(n.transaction.desc))},dependencies:[a.W2,a.Q$,a.q_,a.yh,c.uU],styles:[".imagen[_ngcontent-%COMP%]{width:100%;height:300px}"]}),o})();var f=s(9846),C=s(4853);let b=(()=>{class o{constructor(e,n,i){this.modalCtrl=e,this.uiService=n,this.walletService=i,this.wallet={title:"",created:""}}ngOnInit(){}regresar(){this.modalCtrl.dismiss()}saveWallet(){this.walletService.crearWallet(this.wallet).subscribe(()=>{this.regresar(),this.uiService.presentToast("Added information car")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.IN),t.Y36(f.F),t.Y36(C.X))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-wallet"]],decls:16,vars:1,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],["lines","none"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["shape","round","expand","block",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),t.NdJ("tap",function(){return n.regresar()}),t._UZ(4,"ion-icon",4),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6," AddWallet "),t.qZA()()(),t.TgZ(7,"ion-content")(8,"ion-list")(9,"ion-item",5)(10,"ion-label",6),t._uU(11,"Title"),t.qZA(),t.TgZ(12,"ion-input",7),t.NdJ("ngModelChange",function(r){return n.wallet.title=r}),t.qZA()()(),t.TgZ(13,"ion-button",8),t.NdJ("tap",function(){return n.saveWallet()}),t._uU(14," AddWallet "),t._UZ(15,"ion-icon",9),t.qZA()()),2&e&&(t.xp6(12),t.Q6J("ngModel",n.wallet.title))},dependencies:[_.JJ,_.On,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.pK,a.Ie,a.Q$,a.q_,a.wd,a.sr,a.j9]}),o})();var y=s(4666);function v(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-toolbar",16)(1,"ion-buttons",17)(2,"ion-button",18),t.NdJ("tap",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.backButtonClickTransaction())}),t._UZ(3,"ion-icon",19),t.qZA(),t.TgZ(4,"div",20),t._uU(5),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"ion-title",21),t._uU(8," DeleteTransaction "),t.qZA(),t.TgZ(9,"ion-buttons",22)(10,"ion-button",18),t.NdJ("tap",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeSelectedTransaction())}),t._UZ(11,"ion-icon",23),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,1,e.transactionItemCount))}}function M(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-toolbar",16)(1,"ion-buttons",17)(2,"ion-button",18),t.NdJ("tap",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.backButtonClickWallet())}),t._UZ(3,"ion-icon",19),t.qZA(),t.TgZ(4,"div",20),t._uU(5),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"ion-title",21),t._uU(8," DeleteWallet "),t.qZA(),t.TgZ(9,"ion-buttons",22)(10,"ion-button",18),t.NdJ("tap",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeSelectedWallet())}),t._UZ(11,"ion-icon",23),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,1,e.walletItemCount))}}function x(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-toolbar",3)(1,"ion-title"),t._UZ(2,"img",24),t._uU(3," MoneyMap "),t.qZA(),t.TgZ(4,"ion-buttons",22)(5,"ion-button",25),t.NdJ("tap",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.menu(i))}),t._UZ(6,"ion-icon",26),t.qZA()()()}}const w=function(o){return{"selected-wallet":o}};function A(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",28),t.NdJ("tap",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.openWallet(r.id))})("press",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.selectWallet(r.id))}),t.TgZ(1,"ion-thumbnail",17),t._UZ(2,"img",29),t.qZA(),t.TgZ(3,"ion-label",30)(4,"h2")(5,"strong"),t._uU(6),t.qZA()(),t.TgZ(7,"h3")(8,"strong"),t._uU(9),t.ALo(10,"date"),t.qZA()()()()}if(2&o){const e=l.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(6,w,n.selectedWallet===e.id)),t.xp6(6),t.Oqu(e.title),t.xp6(3),t.Oqu(t.xi3(10,3,e.created,"short"))}}function W(o,l){if(1&o&&(t.TgZ(0,"ion-list")(1,"ion-list"),t.YNc(2,A,11,8,"ion-item",27),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.wallets)}}const U=function(o){return{"selected-transaction":o}};function P(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item-sliding",32),t.NdJ("press",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.selectTransaction(r.id))}),t.TgZ(1,"ion-item",33)(2,"ion-thumbnail",17),t._UZ(3,"ion-img",34),t.qZA(),t.TgZ(4,"ion-label")(5,"h2")(6,"strong"),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.TgZ(9,"h2")(10,"strong"),t._uU(11),t.qZA()(),t.TgZ(12,"h3",35)(13,"strong"),t._uU(14),t.ALo(15,"date"),t.qZA()()()(),t.TgZ(16,"ion-item-options",22)(17,"ion-item-option",15),t.NdJ("tap",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.detailTransaction(r))}),t._UZ(18,"ion-icon",36),t.qZA(),t.TgZ(19,"ion-item-option",37),t.NdJ("tap",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.updateTransaction(r.id))}),t._UZ(20,"ion-icon",38),t.qZA(),t.TgZ(21,"ion-item-option",39),t.NdJ("tap",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openMap())}),t._UZ(22,"ion-icon",40),t.qZA()()()}if(2&o){const e=l.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(11,U,n.selectedTransaction===e.id)),t.xp6(3),t.s9C("src",e.img),t.xp6(4),t.Oqu(t.xi3(8,5,e.amount,"EUR")),t.xp6(4),t.Oqu(e.title),t.xp6(3),t.Oqu(t.xi3(15,8,e.created,"short"))}}function q(o,l){if(1&o&&(t.TgZ(0,"ion-list")(1,"ion-list"),t.YNc(2,P,23,13,"ion-item-sliding",31),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.tranactions)}}const J=[{path:"",component:(()=>{class o{constructor(e,n,i,r,m,I,F,G){this.cd=e,this.navCtrl=n,this.alertCtrl=i,this.modalCtrl=r,this.popoverCtrl=m,this.uiService=I,this.walletService=F,this.transactionService=G,this.agenda=[],this.moneymap="wallet",this.wallet={title:"",created:""},this.deleteWallet=!1,this.walletItemCount=new h.X(0),this.transaction={title:"",amount:0,img:""},this.deleteTransaction=!1,this.transactionItemCount=new h.X(0)}ngOnInit(){this.loadWallets(),this.loadTransaction()}openMap(){this.navCtrl.navigateForward("/tabs/mapa")}menu(e){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.popoverCtrl.create({mode:"md",event:e,backdropDismiss:!0,component:p.M})).present()})}walletModal(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({mode:"md",cssClass:"modal-wallet",component:b})).present()})}loadWallets(){this.walletService.getWallets().subscribe(e=>{console.log(e),this.wallets=e})}openWallet(e){this.navCtrl.navigateForward(`/tabs/moneymap/wallet/${e}`)}clearWallet(){this.selectedWallet=null}selectWallet(e){this.deleteWallet=!0,this.selectedWallet===e?this.clearWallet():this.selectedWallet=e,this.walletToolbar(this.wallet)}walletToolbar(e){let n=!1;for(let i of this.agenda)if(i.id===e.id){i.amount+=1,n=!0;break}n||(e.amount=1,this.agenda.push(e)),this.walletItemCount.next(this.walletItemCount.value+1)}removeSelectedWallet(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Warning!!!",message:"You want to delete the user??",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:n=>{console.log("Confirmado Cancelar: blah"),this.backButtonClickWallet()}},{text:"OK",handler:()=>{console.log("Confirmado Aceptar"),this.walletService.deleteWallet(this.selectedWallet).subscribe(n=>{this.clearWallet(),this.loadWallets(),this.backButtonClickWallet(),this.uiService.presentToast("Deleted wallet")},n=>{console.log(n)})}}]})).present()})}backButtonClickWallet(){this.clearWallet(),this.deleteWallet=!1}addTransaction(){this.navCtrl.navigateForward(["tabs/add-transaction"])}detailTransaction(e){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({mode:"md",componentProps:{transaction:e},breakpoints:[0,.5,.8],initialBreakpoint:.8,component:T})).present()})}updateTransaction(e){this.navCtrl.navigateForward(`/tabs/update-transaction/${e}`)}loadTransaction(){this.transactionService.getTransactions().subscribe(e=>{console.log(e),this.tranactions=e})}clearTransaction(){this.selectedWallet=null}selectTransaction(e){this.deleteTransaction=!0,this.selectedTransaction===e?this.clearTransaction():this.selectedTransaction=e,this.transactionToolbar(this.transaction)}transactionToolbar(e){let n=!1;for(let i of this.agenda)if(i.id===e.id){i.amount+=1,n=!0;break}n||(e.amount=1,this.agenda.push(e)),this.transactionItemCount.next(this.transactionItemCount.value+1)}removeSelectedTransaction(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Warning!!!",message:"You want to delete the user??",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:n=>{console.log("Confirmado Cancelar: blah"),this.backButtonClickTransaction()}},{text:"OK",handler:()=>{console.log("Confirmado Aceptar"),this.transactionService.deleteTransaction(this.selectedTransaction).subscribe(n=>{this.clearTransaction(),this.loadTransaction(),this.backButtonClickTransaction(),this.uiService.presentToast("Deleted transaction")},n=>{console.log(n)})}}]})).present()})}backButtonClickTransaction(){this.clearTransaction(),this.deleteTransaction=!1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(a.SH),t.Y36(a.Br),t.Y36(a.IN),t.Y36(a.Dh),t.Y36(f.F),t.Y36(C.X),t.Y36(y.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-moneymap"]],viewQuery:function(e,n){if(1&e&&t.Gf(a.ki,5),2&e){let i;t.iGM(i=t.CRH())&&(n.modal=i.first)}},decls:26,vars:7,consts:[[1,"ion-no-border"],["color","warning",4,"ngIf"],["color","primary",4,"ngIf"],["color","primary"],[3,"ngModel","ngModelChange"],["value","wallet",1,"miBoton"],["md","wallet-sharp","color","light"],["value","transaction",1,"miBoton"],["md","card-sharp","color","light"],[1,"ion-padding"],[3,"ngSwitch"],[4,"ngSwitchCase"],["vertical","bottom","horizontal","end","slot","fixed"],["md","add-sharp","color","light"],["side","top"],["color","primary",3,"tap"],["color","warning"],["slot","start"],[3,"tap"],["color","dark","slot","icon-only","md","arrow-back-sharp"],[1,"agenda-length"],[1,"miTitulo"],["slot","end"],["color","dark","slot","icon-only","md","trash-sharp"],["src","../../../assets/img/wallet.png",1,"logo-header"],["fill","clear",3,"tap"],["md","ellipsis-vertical-sharp","slot","icon-only","color","light"],["button","","detail","","lines","full","detail-icon","arrow-forward-sharp",3,"ngClass","tap","press",4,"ngFor","ngForOf"],["button","","detail","","lines","full","detail-icon","arrow-forward-sharp",3,"ngClass","tap","press"],["src","../../../assets/img/wallet.png"],[1,"ion-text-capitalize","ion-text-wrap"],[3,"ngClass","press",4,"ngFor","ngForOf"],[3,"ngClass","press"],["button","","lines","none"],[3,"src"],[1,"ion-text-wrap"],["md","eye-sharp","slot","icon-only","color","light"],["color","tertiary",3,"tap"],["md","create-sharp","slot","icon-only","color","light"],["color","secondary",3,"tap"],["md","map-sharp","slot","icon-only","color","light"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0),t.YNc(1,v,12,3,"ion-toolbar",1),t.YNc(2,M,12,3,"ion-toolbar",1),t.YNc(3,x,7,0,"ion-toolbar",2),t.TgZ(4,"ion-toolbar",3)(5,"ion-segment",4),t.NdJ("ngModelChange",function(r){return n.moneymap=r}),t.TgZ(6,"ion-segment-button",5),t._UZ(7,"ion-icon",6),t.TgZ(8,"ion-label"),t._uU(9," Wallet "),t.qZA()(),t.TgZ(10,"ion-segment-button",7),t._UZ(11,"ion-icon",8),t.TgZ(12,"ion-label"),t._uU(13," Transaction "),t.qZA()()()()(),t.TgZ(14,"ion-content",9),t.ynx(15,10),t.YNc(16,W,3,1,"ion-list",11),t.YNc(17,q,3,1,"ion-list",11),t.BQk(),t.TgZ(18,"ion-fab",12)(19,"ion-fab-button"),t._UZ(20,"ion-icon",13),t.qZA(),t.TgZ(21,"ion-fab-list",14)(22,"ion-fab-button",15),t.NdJ("tap",function(){return n.walletModal()}),t._UZ(23,"ion-icon",6),t.qZA(),t.TgZ(24,"ion-fab-button",15),t.NdJ("tap",function(){return n.addTransaction()}),t._UZ(25,"ion-icon",8),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.deleteTransaction),t.xp6(1),t.Q6J("ngIf",n.deleteWallet),t.xp6(1),t.Q6J("ngIf",!n.deleteWallet==!n.deleteTransaction),t.xp6(2),t.Q6J("ngModel",n.moneymap),t.xp6(10),t.Q6J("ngSwitch",n.moneymap),t.xp6(1),t.Q6J("ngSwitchCase","wallet"),t.xp6(1),t.Q6J("ngSwitchCase","transaction"))},dependencies:[c.mk,c.sg,c.O5,c.RF,c.n9,_.JJ,_.On,a.YG,a.Sm,a.W2,a.IJ,a.W4,a.zq,a.Gu,a.gu,a.Xz,a.Ie,a.u8,a.IK,a.td,a.Q$,a.q_,a.cJ,a.GO,a.Bs,a.wd,a.sr,a.QI,c.Ov,c.H9,c.uU]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(J),g.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,_.u5,a.Pc,O]}),o})()},9846:(Z,u,s)=>{s.d(u,{F:()=>g});var c=s(655),_=s(4650),a=s(603);let g=(()=>{class d{constructor(p,t){this.alertController=p,this.toastController=t}alertaInformativaLogin(p,t,T){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:p,subHeader:t,message:T,buttons:["OK"]})).present()})}alertaInformativa(p){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:p,buttons:["OK"]})).present()})}presentToast(p){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:p,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return d.\u0275fac=function(p){return new(p||d)(_.LFG(a.Br),_.LFG(a.yF))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);