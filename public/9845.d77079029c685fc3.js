"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9845],{9845:(f,h,i)=>{i.r(h),i.d(h,{AddTransactionPageModule:()=>O});var d=i(6895),u=i(433),a=i(603),p=i(5017),g=i(655),m=i(3900),l=i(6388),n=i(4650),T=i(9846),_=i(4853),v=i(4666);const A=["scrollElement"];function M(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"div",19),n.NdJ("tap",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.selectPhoto())}),n.qZA()}}function C(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"ion-img",20)(1,"ion-input",13),n.NdJ("ngModelChange",function(r){n.CHM(t);const s=n.oxw();return n.KtG(s.transaction.img=r)}),n.qZA()()}if(2&o){const t=n.oxw();n.Q6J("src",t.transaction.img),n.xp6(1),n.Q6J("ngModel",t.transaction.img)}}function P(o,c){if(1&o&&(n.TgZ(0,"ion-select-option",21),n._uU(1),n.qZA()),2&o){const t=c.$implicit;n.Q6J("value",t.title),n.xp6(1),n.Oqu(t.title)}}const Z=function(o){return{green:o}},J=[{path:"",component:(()=>{class o{constructor(t,e,r,s,b,U){this.router=t,this.route=e,this.navCtrl=r,this.uiService=s,this.walletService=b,this.transactionService=U,this.transaction={title:"",amount:0,desc:"",img:"",lat:0,lng:0,wallet:""},this.income=!1,this.shouldGeolocation=!1}ngOnInit(){this.updateScroll(),this.loadWallets(),this.router.url.includes("update-transaction")&&this.route.params.pipe((0,m.w)(({id:t})=>this.transactionService.getTransaction(t))).subscribe(t=>this.transaction=t)}regresar(){this.navCtrl.navigateBack("/tabs/moneymap")}updateScroll(){setTimeout(()=>{this.content.scrollToBottom()},1500)}loadWallets(){this.walletService.getWallets().subscribe(t=>{console.log(t),this.wallets=t})}selectPhoto(){return(0,g.mG)(this,void 0,void 0,function*(){const t=yield l.V1.getPhoto({quality:75,width:400,height:400,allowEditing:!1,source:l.oK.Prompt,resultType:l.dk.DataUrl});this.isSelected=!0,this.transaction.img=t.dataUrl})}getLocation(){this.shouldGeolocation&&navigator.geolocation.getCurrentPosition(t=>{this.transaction.lat=t.coords.latitude,this.transaction.lng=t.coords.longitude,console.log(this.transaction.lat,this.transaction.lng)})}convertAmountToInt(){let t=parseInt(this.transaction.amount+"");return this.income||(t*=-1),t}addTransaction(){this.transaction.amount=this.convertAmountToInt(),this.transactionService.crearTransaction(this.transaction).subscribe(()=>{this.regresar()})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(p.F0),n.Y36(p.gz),n.Y36(a.SH),n.Y36(T.F),n.Y36(_.X),n.Y36(v.p))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-add-transaction"]],viewQuery:function(t,e){if(1&t&&n.Gf(A,5),2&t){let r;n.iGM(r=n.CRH())&&(e.content=r.first)}},decls:43,vars:15,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],[1,"ion-padding",3,"scrollEvents"],["scrollElement",""],[1,"red","amount-field",3,"ngClass"],["type","number","autofocus","true","placeholder","0",3,"ngModel","ngModelChange"],["id","img",3,"tap",4,"ngIf"],["id","avatar",3,"src",4,"ngIf"],["lines","none"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["expand","block","shape","round",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["id","img",3,"tap"],["id","avatar",3,"src"],[3,"value"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),n.NdJ("tap",function(){return e.regresar()}),n._UZ(4,"ion-icon",4),n.qZA()(),n.TgZ(5,"ion-title"),n._uU(6),n.qZA()()(),n.TgZ(7,"ion-content",5,6)(9,"ion-list")(10,"div",7)(11,"ion-input",8),n.NdJ("ngModelChange",function(s){return e.transaction.amount=s}),n.qZA()(),n.YNc(12,M,1,0,"div",9),n.YNc(13,C,2,2,"ion-img",10),n.TgZ(14,"ion-item",11)(15,"ion-label",12)(16,"strong"),n._uU(17,"Title"),n.qZA()(),n.TgZ(18,"ion-input",13),n.NdJ("ngModelChange",function(s){return e.transaction.title=s}),n.qZA()(),n.TgZ(19,"ion-item",11)(20,"ion-label",12)(21,"strong"),n._uU(22,"Description"),n.qZA()(),n.TgZ(23,"ion-textarea",14),n.NdJ("ngModelChange",function(s){return e.transaction.desc=s}),n.qZA()(),n.TgZ(24,"ion-item",11)(25,"ion-label")(26,"strong"),n._uU(27,"Location Transiction"),n.qZA()(),n.TgZ(28,"ion-toggle",15),n.NdJ("ngModelChange",function(s){return e.shouldGeolocation=s})("ionChange",function(){return e.getLocation()}),n.qZA()(),n.TgZ(29,"ion-item",11)(30,"ion-label")(31,"strong"),n._uU(32,"Is income"),n.qZA()(),n.TgZ(33,"ion-toggle",14),n.NdJ("ngModelChange",function(s){return e.income=s}),n.qZA()(),n.TgZ(34,"ion-item",11)(35,"ion-label",12)(36,"strong"),n._uU(37,"Wallet?"),n.qZA()(),n.TgZ(38,"ion-select",14),n.NdJ("ngModelChange",function(s){return e.transaction.wallet=s}),n.YNc(39,P,2,2,"ion-select-option",16),n.qZA()()(),n.TgZ(40,"ion-button",17),n.NdJ("tap",function(){return e.addTransaction()}),n._uU(41),n._UZ(42,"ion-icon",18),n.qZA()()),2&t&&(n.xp6(6),n.hij(" ",e.transaction.id?"UpdateTransaction":"AddTransaction"," "),n.xp6(1),n.Q6J("scrollEvents",!0),n.xp6(3),n.Q6J("ngClass",n.VKq(13,Z,e.income)),n.xp6(1),n.Q6J("ngModel",e.transaction.amount),n.xp6(1),n.Q6J("ngIf",!e.isSelected),n.xp6(1),n.Q6J("ngIf",e.isSelected),n.xp6(5),n.Q6J("ngModel",e.transaction.title),n.xp6(5),n.Q6J("ngModel",e.transaction.desc),n.xp6(5),n.Q6J("ngModel",e.shouldGeolocation),n.xp6(5),n.Q6J("ngModel",e.income),n.xp6(5),n.Q6J("ngModel",e.transaction.wallet),n.xp6(1),n.Q6J("ngForOf",e.wallets),n.xp6(2),n.hij(" ",e.transaction.id?"UpdateTransaction":"AddTransaction"," "))},dependencies:[d.mk,d.sg,d.O5,u.JJ,u.On,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Xz,a.pK,a.Ie,a.Q$,a.q_,a.t9,a.n0,a.g2,a.wd,a.ho,a.sr,a.w,a.as,a.QI,a.j9],styles:["#img[_ngcontent-%COMP%]{background:url(no-imagen-small.d6a713395f470a23.jpg);width:100px;height:100px;margin:10px auto}#avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}.red[_ngcontent-%COMP%]{background-color:#ff1744}.amount-field[_ngcontent-%COMP%]{padding:2em;transition:all .4s}.amount-field[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:2em;background-color:transparent;border:none;outline:none;color:#fff}.green[_ngcontent-%COMP%]{background-color:#00e676}"]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[p.Bz.forChild(J),p.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[d.ez,u.u5,a.Pc,y]}),o})()},9846:(f,h,i)=>{i.d(h,{F:()=>p});var d=i(655),u=i(4650),a=i(603);let p=(()=>{class g{constructor(l,n){this.alertController=l,this.toastController=n}alertaInformativaLogin(l,n,T){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:l,subHeader:n,message:T,buttons:["OK"]})).present()})}alertaInformativa(l){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:l,buttons:["OK"]})).present()})}presentToast(l){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:l,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return g.\u0275fac=function(l){return new(l||g)(u.LFG(a.Br),u.LFG(a.yF))},g.\u0275prov=u.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);