"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1276],{1276:(C,g,i)=>{i.r(g),i.d(g,{EventsCalendarPageModule:()=>S});var c=i(6895),h=i(433),l=i(603),_=i(5017),w=i(655),m=i(4004),s=i(7579),u=i(3499),p=i(2641),v=i(5300),f=i(8344),e=i(4650),D=i(9846),E=i(9426);function y(a,d){1&a&&(e.TgZ(0,"div",20),e._UZ(1,"ion-icon",21)(2,"br"),e._uU(3," Loading events... "),e.qZA())}function T(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-view",25),e.NdJ("dayClicked",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dayClicked(r.day))})("eventClicked",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.handleEvent("Clicked",r.event))}),e.qZA()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("viewDate",n.viewDate)("events",t)("refresh",n.refresh)("activeDayIsOpen",n.activeDayIsOpen)}}function M(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",26),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.handleEvent("Clicked",r.event))}),e.qZA()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("viewDate",n.viewDate)("events",t)("refresh",n.refresh)}}function P(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",26),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.handleEvent("Clicked",r.event))}),e.qZA()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("viewDate",n.viewDate)("events",t)("refresh",n.refresh)}}function Z(a,d){if(1&a&&(e.TgZ(0,"div")(1,"div",22),e.YNc(2,T,1,4,"mwl-calendar-month-view",23),e.YNc(3,M,1,3,"mwl-calendar-week-view",24),e.YNc(4,P,1,3,"mwl-calendar-day-view",24),e.qZA()()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.view),e.xp6(1),e.Q6J("ngSwitchCase",t.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",t.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",t.CalendarView.Day)}}const k={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}},b=[{path:"",component:(()=>{class a{constructor(t,n,r,o,Y,N,I){this.datepipe=t,this.router=n,this.modalCtrl=r,this.alertCtrl=o,this.navCtrl=Y,this.uiService=N,this.eventService=I,this.event={id:"",title:"",desc:"",start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),allDay:!1},this.calendarMes="month",this.viewDate=new Date,this.refresh=new s.x,this.activeDayIsOpen=!1,this.CalendarView=v.wr,this.view=v.wr.Month}ngOnInit(){this.loadCalendarEvents()}doRefresh(t){setTimeout(()=>{t.target.complete()},2e3)}regresar(){this.navCtrl.navigateBack("tabs/events")}setView(t){this.view=t}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}loadCalendarEvents(){this.events$=this.eventService.getEvents().pipe((0,m.U)(t=>t.map(n=>({title:n.title,description:n.desc,start:new Date(n.start),end:new Date(n.end),color:k.yellow,allDay:n.allDay,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{event:n}}))))}dayClicked({date:t,events:n}){(0,u.Z)(t,this.viewDate)&&(this.activeDayIsOpen=!((0,p.Z)(this.viewDate,t)&&!0===this.activeDayIsOpen||0===n.length),this.viewDate=t)}handleEvent(t,n){return(0,w.mG)(this,void 0,void 0,function*(){const r=yield this.modalCtrl.create({mode:"md",componentProps:{event:n,action:t},breakpoints:[0,.5,.8],initialBreakpoint:.8,component:f.D});console.log(n),yield r.present()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c.uU),e.Y36(_.F0),e.Y36(l.IN),e.Y36(l.Br),e.Y36(l.SH),e.Y36(D.F),e.Y36(E.P))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-events-calendar"]],decls:37,vars:21,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","bubbles"],["size","2"],["fill","clear","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["name","arrow-back","slot","icon-only","color","light"],["size","8"],["fill","outline","expand","block","color","light","mwlCalendarToday","",1,"miBoton",3,"viewDate","viewDateChange"],["fill","clear","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],["md","arrow-forward-sharp","slot","icon-only","color","light"],[3,"ngModel","ngModelChange"],["value","month",3,"click"],["value","week",3,"click"],["value","day",3,"click"],["loading",""],[4,"ngIf","ngIfElse"],[1,"ion-text-center"],["md","refresh-sharp","color","primary"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","events","refresh","eventClicked"]],template:function(t,n){if(1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.NdJ("tap",function(){return n.regresar()}),e._UZ(4,"ion-icon",4),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6," Calendar "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",5),e.NdJ("ionRefresh",function(o){return n.doRefresh(o)}),e._UZ(9,"ion-refresher-content",6),e.qZA(),e.TgZ(10,"ion-toolbar",1)(11,"ion-row")(12,"ion-col",7)(13,"ion-button",8),e.NdJ("viewDateChange",function(o){return n.viewDate=o})("viewDateChange",function(){return n.closeOpenMonthViewDay()}),e._UZ(14,"ion-icon",9),e.qZA()(),e.TgZ(15,"ion-col",10)(16,"ion-button",11),e.NdJ("viewDateChange",function(o){return n.viewDate=o}),e._uU(17),e.ALo(18,"calendarDate"),e.qZA()(),e.TgZ(19,"ion-col",7)(20,"ion-button",12),e.NdJ("viewDateChange",function(o){return n.viewDate=o})("viewDateChange",function(){return n.closeOpenMonthViewDay()}),e._UZ(21,"ion-icon",13),e.qZA()()()(),e.TgZ(22,"ion-toolbar",1)(23,"ion-segment",14),e.NdJ("ngModelChange",function(o){return n.calendarMes=o}),e.TgZ(24,"ion-segment-button",15),e.NdJ("click",function(){return n.setView(n.CalendarView.Month)}),e.TgZ(25,"ion-label"),e._uU(26,"Month"),e.qZA()(),e.TgZ(27,"ion-segment-button",16),e.NdJ("click",function(){return n.setView(n.CalendarView.Week)}),e.TgZ(28,"ion-label"),e._uU(29,"Week"),e.qZA()(),e.TgZ(30,"ion-segment-button",17),e.NdJ("click",function(){return n.setView(n.CalendarView.Day)}),e.TgZ(31,"ion-label"),e._uU(32,"Day"),e.qZA()()()(),e.YNc(33,y,4,0,"ng-template",null,18,e.W1O),e.YNc(35,Z,5,4,"div",19),e.ALo(36,"async"),e.qZA()),2&t){const r=e.MAs(34);e.xp6(13),e.Q6J("view",n.view)("viewDate",n.viewDate),e.xp6(3),e.Q6J("viewDate",n.viewDate),e.xp6(1),e.hij(" ",e.Dn7(18,15,n.viewDate,n.view+"ViewTitle","en")," "),e.xp6(3),e.Q6J("view",n.view)("viewDate",n.viewDate),e.xp6(3),e.Q6J("ngModel",n.calendarMes),e.xp6(1),e.ekj("active",n.view===n.CalendarView.Month),e.xp6(3),e.ekj("active",n.view===n.CalendarView.Week),e.xp6(3),e.ekj("active",n.view===n.CalendarView.Day),e.xp6(5),e.Q6J("ngIf",e.lcZ(36,19,n.events$))("ngIfElse",r)}},dependencies:[c.O5,c.RF,c.n9,h.JJ,h.On,l.YG,l.Sm,l.wI,l.W2,l.Gu,l.gu,l.Q$,l.nJ,l.Wo,l.Nd,l.cJ,l.GO,l.wd,l.sr,l.QI,v.YX,v.MG,v.nA,v.GH,v.TK,v.Se,c.Ov,v.vk],styles:["ion-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;text-transform:none!important;--color: var(--ion-color-light)}"]}),a})()}];let J=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[_.Bz.forChild(b),_.Bz]}),a})();var A=i(5503),O=i(5642),U=i(789);let S=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[c.uU],imports:[c.ez,h.u5,l.Pc,J,A.D,O.K,v._8.forRoot({provide:v._A,useFactory:U.x})]}),a})()},9426:(C,g,i)=>{i.d(g,{P:()=>_});var c=i(2340),h=i(4650),l=i(529);let _=(()=>{class w{constructor(s){this.http=s,this.baseUrl=c.N.baseUrl}getEvents(){return this.http.get(`${this.baseUrl}/event/findAll`)}createEvent(s){return this.http.post(`${this.baseUrl}/event/createEvent`,s)}getEvent(s){return this.http.get(`${this.baseUrl}/event/${s}`)}updateEvent(s,u){return this.http.put(`${this.baseUrl}/event/${s}`,u)}deleteEvent(s){return this.http.delete(`${this.baseUrl}/event/${s}`)}}return w.\u0275fac=function(s){return new(s||w)(h.LFG(l.eN))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()}}]);