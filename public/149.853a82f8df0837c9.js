"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[149],{149:(f,v,i)=>{i.r(v),i.d(v,{EventsUpdatePageModule:()=>C});var p=i(6895),u=i(433),o=i(603),c=i(5017),d=i(3900),m=i(7846),s=i(4191),e=i(4650),h=i(9846),E=i(9426);function M(t,g){if(1&t){const n=e.EpF();e.TgZ(0,"ion-datetime",18,19),e.NdJ("ionChange",function(){e.CHM(n);const l=e.MAs(1),r=e.oxw();return e.KtG(r.evento.start=r.formatDate(l.value))}),e.qZA()}2&t&&e.Q6J("showDefaultButtons",!0)}function _(t,g){if(1&t){const n=e.EpF();e.TgZ(0,"ion-datetime",20,19),e.NdJ("ionChange",function(){e.CHM(n);const l=e.MAs(1),r=e.oxw();return e.KtG(r.evento.end=r.formatDate(l.value))}),e.qZA()}2&t&&e.Q6J("showDefaultButtons",!0)}const Z=[{path:"",component:(()=>{class t{constructor(n,a,l,r,T,y,P){this.router=n,this.datepipe=a,this.route=l,this.navCtrl=r,this.modalCtrl=T,this.uiService=y,this.eventService=P,this.evento={title:"",desc:"",allDay:!0,start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm")}}ngOnInit(){this.router.url.includes("events-update")&&this.route.params.pipe((0,d.w)(({id:n})=>this.eventService.getEvent(n))).subscribe(n=>{this.evento=n})}regresar(){this.navCtrl.navigateBack("tabs/events")}cancelStart(){this.modalCtrl.dismiss(null,"cancel")}confirmStart(){this.modalCtrl.dismiss("confirm")}cancel(){this.modalCtrl.dismiss(null,"cancel")}confirm(){this.modalCtrl.dismiss("confirm")}formatDate(n){return(0,m.Z)((0,s.Z)(n),"EEEE, dd/MMMM/yyyy HH:mm")}formatDateEnd(n){return(0,m.Z)((0,s.Z)(n),"EEEE, dd/MMMM/yyyy HH:mm")}saveEvent(){0!==this.evento.title.trim().length&&(this.evento.id?this.eventService.updateEvent(this.evento.id,this.evento).subscribe(n=>{console.log(n),this.regresar(),this.uiService.presentToast("Updated event")}):console.log(this.evento))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.F0),e.Y36(p.uU),e.Y36(c.gz),e.Y36(o.SH),e.Y36(o.IN),e.Y36(h.F),e.Y36(E.P))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-events-update"]],decls:45,vars:7,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],[1,"ion-padding"],["lines","none"],["position","floating"],["tpye","text","clearInput","",3,"ngModel","ngModelChange"],["color","dark",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["fill","clear","slot","end","id","open-date-start"],["md","calendar-sharp","slot","icon-only","color","dark"],["trigger","open-date-start","show-backdrop","true"],["fill","clear","slot","end","id","open-date-end"],["trigger","open-date-end","show-backdrop","true"],["expand","block",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["id","datetimeStart","locale","es-ES",3,"showDefaultButtons","ionChange"],["ionmodalDatetime",""],["id","datetimeEnd","locale","es-ES",3,"showDefaultButtons","ionChange"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.NdJ("tap",function(){return a.regresar()}),e._UZ(4,"ion-icon",4),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()(),e.TgZ(7,"ion-content",5)(8,"ion-list")(9,"ion-item",6)(10,"ion-label",7)(11,"b"),e._uU(12,"Title"),e.qZA()(),e.TgZ(13,"ion-input",8),e.NdJ("ngModelChange",function(r){return a.evento.title=r}),e.qZA()(),e.TgZ(14,"ion-item",6)(15,"ion-label",7)(16,"b"),e._uU(17,"Description"),e.qZA()(),e.TgZ(18,"ion-input",8),e.NdJ("ngModelChange",function(r){return a.evento.desc=r}),e.qZA()(),e.TgZ(19,"ion-item",6)(20,"ion-label")(21,"b"),e._uU(22,"AllDay?"),e.qZA()(),e.TgZ(23,"ion-toggle",9),e.NdJ("ngModelChange",function(r){return a.evento.allDay=r}),e.qZA()(),e.TgZ(24,"ion-item",6)(25,"ion-label")(26,"b"),e._uU(27,"Start:"),e.qZA()(),e.TgZ(28,"ion-input",10),e.NdJ("ngModelChange",function(r){return a.evento.start=r}),e.qZA(),e.TgZ(29,"ion-button",11),e._UZ(30,"ion-icon",12),e.qZA(),e.TgZ(31,"ion-popover",13),e.YNc(32,M,2,1,"ng-template"),e.qZA()(),e.TgZ(33,"ion-item",6)(34,"ion-label")(35,"b"),e._uU(36,"End:"),e.qZA()(),e.TgZ(37,"ion-input",10),e.NdJ("ngModelChange",function(r){return a.evento.end=r}),e.qZA(),e.TgZ(38,"ion-button",14),e._UZ(39,"ion-icon",12),e.qZA(),e.TgZ(40,"ion-popover",15),e.YNc(41,_,2,1,"ng-template"),e.qZA()(),e.TgZ(42,"ion-button",16),e.NdJ("tap",function(){return a.saveEvent()}),e._uU(43),e._UZ(44,"ion-icon",17),e.qZA()()()),2&n&&(e.xp6(6),e.hij(" ",a.evento.id?"UpdateEvent":"AddEvent"," "),e.xp6(7),e.Q6J("ngModel",a.evento.title),e.xp6(5),e.Q6J("ngModel",a.evento.desc),e.xp6(5),e.Q6J("ngModel",a.evento.allDay),e.xp6(5),e.Q6J("ngModel",a.evento.start),e.xp6(9),e.Q6J("ngModel",a.evento.end),e.xp6(6),e.hij(" ",a.evento.id?"UpdateEvent":"AddEvent"," "))},dependencies:[u.JJ,u.On,o.YG,o.Sm,o.W2,o.x4,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.q_,o.wd,o.ho,o.sr,o.d8,o.w,o.QI,o.j9],styles:["ion-popover[_ngcontent-%COMP%]{--color: var(--ion-color-primary);--background: var(--ion-color-dark)}"]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(Z),c.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.uU],imports:[p.ez,u.u5,o.Pc,U]}),t})()},9846:(f,v,i)=>{i.d(v,{F:()=>c});var p=i(655),u=i(4650),o=i(603);let c=(()=>{class d{constructor(s,e){this.alertController=s,this.toastController=e}alertaInformativaLogin(s,e,h){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:s,subHeader:e,message:h,buttons:["OK"]})).present()})}alertaInformativa(s){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:s,buttons:["OK"]})).present()})}presentToast(s){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:s,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return d.\u0275fac=function(s){return new(s||d)(u.LFG(o.Br),u.LFG(o.yF))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);